{
  "name": "content_orchestration_core",
  "nodes": [
    {
      "name": "start-chat-with-aeya",
      "type": "chatInput",
      "parameters": {}
    },
    {
      "name": "generate-aeya-script",
      "type": "aeyaGenerateNarrative",
      "parameters": {}
    },
    {
      "name": "run-ensemble-qc",
      "type": "subflow",
      "parameters": {
        "workflow": "ensemble-review-subflow"
      }
    },
    {
      "name": "generate-script-preview",
      "type": "summarizeNarrative",
      "parameters": {}
    },
    {
      "name": "send-script-review-email",
      "type": "emailSend",
      "parameters": {
        "to": "tunesdotravel@gmail.com"
      }
    },
    {
      "name": "approval-timeout-wait",
      "type": "wait",
      "parameters": {
        "duration": "1h"
      }
    },
    {
      "name": "send-escalation-email",
      "type": "emailSend",
      "parameters": {
        "to": "tunesdotravel@gmail.com"
      }
    },
    {
      "name": "wait-for-approval-response",
      "type": "webhookWait",
      "parameters": {}
    },
    {
      "name": "generate-kokora-script",
      "type": "formatNarration",
      "parameters": {}
    },
    {
      "name": "check-video-mode",
      "type": "evaluateRouting",
      "parameters": {}
    },
    {
      "name": "create-longform-video-wavespeed",
      "type": "longformRenderWaveSpeedAI",
      "parameters": {}
    },
    {
      "name": "create-shortform-video-wavespeed",
      "type": "shortformRenderWaveSpeedAI",
      "parameters": {}
    },
    {
      "name": "send-video-approval-email",
      "type": "emailSend",
      "parameters": {
        "to": "tunesdotravel@gmail.com"
      }
    },
    {
      "name": "wait-for-video-approval",
      "type": "webhookWait",
      "parameters": {}
    },
    {
      "name": "update-episode-status-sheet",
      "type": "googleSheetsUpdate",
      "parameters": {
        "sheet": "Episodes"
      }
    },
    {
      "name": "log-video-output-sheet",
      "type": "googleSheetsAppend",
      "parameters": {
        "sheet": "Video_Log"
      }
    },
    {
      "name": "log-llm-review-sheet",
      "type": "googleSheetsAppend",
      "parameters": {
        "sheet": "LLM_Review_Log"
      }
    },
    {
      "name": "log-notification-sheet",
      "type": "googleSheetsAppend",
      "parameters": {
        "sheet": "Notification_Log"
      }
    },
    {
      "name": "aeya-wandering-scholar-mode",
      "type": "generateResearchThemes",
      "parameters": {
        "mode": "recursive",
        "output_to": [
          "Episodes",
          "Notification_Log"
        ],
        "status": "Draft",
        "title_prefix": "AUTO: "
      }
    },
    {
      "name": "wait-longform-render",
      "type": "wait",
      "parameters": {
        "duration": "5m"
      }
    },
    {
      "name": "wait-shortform-render",
      "type": "wait",
      "parameters": {
        "duration": "5m"
      }
    },
    {
      "name": "generate-video-preview",
      "type": "videoPreview",
      "parameters": {}
    }
  ],
  "connections": {
    "start-chat-with-aeya": {
      "main": [
        [
          {
            "node": "generate-aeya-script",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "generate-aeya-script": {
      "main": [
        [
          {
            "node": "run-ensemble-qc",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "run-ensemble-qc": {
      "main": [
        [
          {
            "node": "generate-script-preview",
            "type": "main",
            "index": 0
          },
          {
            "node": "log-llm-review-sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "generate-script-preview": {
      "main": [
        [
          {
            "node": "send-script-review-email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "send-script-review-email": {
      "main": [
        [
          {
            "node": "wait-for-approval-response",
            "type": "main",
            "index": 0
          },
          {
            "node": "approval-timeout-wait",
            "type": "main",
            "index": 0
          },
          {
            "node": "log-notification-sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "approval-timeout-wait": {
      "main": [
        [
          {
            "node": "send-escalation-email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "wait-for-approval-response": {
      "main": [
        [
          {
            "node": "generate-kokora-script",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "generate-kokora-script": {
      "main": [
        [
          {
            "node": "check-video-mode",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check-video-mode": {
      "main": [
        [
          {
            "node": "create-longform-video-wavespeed",
            "type": "main",
            "index": 0
          },
          {
            "node": "create-shortform-video-wavespeed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "send-video-approval-email": {
      "main": [
        [
          {
            "node": "wait-for-video-approval",
            "type": "main",
            "index": 0
          },
          {
            "node": "log-notification-sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "wait-for-video-approval": {
      "main": [
        [
          {
            "node": "update-episode-status-sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "update-episode-status-sheet": {
      "main": [
        [
          {
            "node": "log-video-output-sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "send-escalation-email": {
      "main": [
        [
          {
            "node": "log-notification-sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "aeya-wandering-scholar-mode": {
      "main": [
        [
          {
            "node": "log-notification-sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create-longform-video-wavespeed": {
      "main": [
        [
          {
            "node": "wait-longform-render",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create-shortform-video-wavespeed": {
      "main": [
        [
          {
            "node": "wait-shortform-render",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "wait-longform-render": {
      "main": [
        [
          {
            "node": "generate-video-preview",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "wait-shortform-render": {
      "main": [
        [
          {
            "node": "generate-video-preview",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "generate-video-preview": {
      "main": [
        [
          {
            "node": "send-video-approval-email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {},
  "tags": []
}
